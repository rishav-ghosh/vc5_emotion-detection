schema: '2.0'
stages:
  data_ingestion:
    cmd: python3 src/data/data_ingestion.py
    deps:
    - path: src/data/data_ingestion.py
      hash: md5
      md5: b11cd58ca47c0002a5f126feebed9c1f
      size: 3531
    params:
      params.yaml:
        data_ingestion.test_size: 0.4
    outs:
    - path: data/raw/test.csv
      hash: md5
      md5: 4d52f2514abf1bcae58b4ee149746148
      size: 328677
    - path: data/raw/train.csv
      hash: md5
      md5: 011b23041460e9c046e617e8aec41d13
      size: 488920
  data_preprocessing:
    cmd: python3 src/data/data_preprocessing.py
    deps:
    - path: data/raw/test.csv
      hash: md5
      md5: 4d52f2514abf1bcae58b4ee149746148
      size: 328677
    - path: data/raw/train.csv
      hash: md5
      md5: 011b23041460e9c046e617e8aec41d13
      size: 488920
    - path: src/data/data_preprocessing.py
      hash: md5
      md5: 16c078160906fb772aec161dfe2e009e
      size: 4462
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: 12ad4de771a7a3496653e131ee1de060
      size: 221295
    - path: data/processed/train.csv
      hash: md5
      md5: eb56778d66f7db3bc5576b0d3dfaf0de
      size: 328850
  feature_engineering:
    cmd: python3 src/features/features.py
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: 12ad4de771a7a3496653e131ee1de060
      size: 221295
    - path: data/processed/train.csv
      hash: md5
      md5: eb56778d66f7db3bc5576b0d3dfaf0de
      size: 328850
    - path: src/features/features.py
      hash: md5
      md5: 881647e171bb591405ffd679089ece95
      size: 3441
    params:
      params.yaml:
        features.max_features: 1500
    outs:
    - path: data/interim/test_bow.csv
      hash: md5
      md5: 1f3e44214a53ba11cd538902a78f6344
      size: 11864296
    - path: data/interim/train_bow.csv
      hash: md5
      md5: de4e675cbefbe50d0a2799a0ff036333
      size: 17865294
  model_training:
    cmd: python3 modelling/modelling.py
    deps:
    - path: data/interim/train_bow.csv
      hash: md5
      md5: de4e675cbefbe50d0a2799a0ff036333
      size: 17865294
    - path: modelling/modelling.py
      hash: md5
      md5: db89beb53b6299118715deb8e81158f4
      size: 2694
    params:
      params.yaml:
        modelling.max_depth: 30
        modelling.n_estimators: 110
    outs:
    - path: models/random_forest_model.pkl
      hash: md5
      md5: fdaec39cbbb9753d41a1a4cc694b452f
      size: 6510025
  model_evaluation:
    cmd: python3 modelling/model_evaluation.py
    deps:
    - path: data/interim/test_bow.csv
      hash: md5
      md5: 1f3e44214a53ba11cd538902a78f6344
      size: 11864296
    - path: modelling/model_evaluation.py
      hash: md5
      md5: 4f09bcdd43aaf9f7db54e78fc3119d52
      size: 2671
    - path: models/random_forest_model.pkl
      hash: md5
      md5: fdaec39cbbb9753d41a1a4cc694b452f
      size: 6510025
    outs:
    - path: reports/metrics.json
      hash: md5
      md5: 61dcb3e79fab078bf44a3844084ce332
      size: 143
