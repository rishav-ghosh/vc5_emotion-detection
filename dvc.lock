schema: '2.0'
stages:
  data_ingestion:
    cmd: python3 src/data/data_ingestion.py
    deps:
    - path: src/data/data_ingestion.py
      hash: md5
      md5: b11cd58ca47c0002a5f126feebed9c1f
      size: 3531
    params:
      params.yaml:
        data_ingestion.test_size: 0.4
    outs:
    - path: data/raw/test.csv
      hash: md5
      md5: 4d52f2514abf1bcae58b4ee149746148
      size: 328677
    - path: data/raw/train.csv
      hash: md5
      md5: 011b23041460e9c046e617e8aec41d13
      size: 488920
  data_preprocessing:
    cmd: python3 src/data/data_preprocessing.py
    deps:
    - path: data/raw/test.csv
      hash: md5
      md5: 4d52f2514abf1bcae58b4ee149746148
      size: 328677
    - path: data/raw/train.csv
      hash: md5
      md5: 011b23041460e9c046e617e8aec41d13
      size: 488920
    - path: src/data/data_preprocessing.py
      hash: md5
      md5: 16c078160906fb772aec161dfe2e009e
      size: 4462
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: 12ad4de771a7a3496653e131ee1de060
      size: 221295
    - path: data/processed/train.csv
      hash: md5
      md5: eb56778d66f7db3bc5576b0d3dfaf0de
      size: 328850
  feature_engineering:
    cmd: python3 src/features/features.py
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: 12ad4de771a7a3496653e131ee1de060
      size: 221295
    - path: data/processed/train.csv
      hash: md5
      md5: eb56778d66f7db3bc5576b0d3dfaf0de
      size: 328850
    - path: src/features/features.py
      hash: md5
      md5: f8bd418c6ce6d0aa892223dc81049553
      size: 3453
    params:
      params.yaml:
        features.max_features: 1500
    outs:
    - path: data/interim/test_tfidf.csv
      hash: md5
      md5: 9e9a5d59f952a71de329704c23c79a39
      size: 24071081
    - path: data/interim/train_tfidf.csv
      hash: md5
      md5: 8c453c285a07156b0032d44524695161
      size: 36263535
  model_training:
    cmd: python3 modelling/modelling.py
    deps:
    - path: data/interim/train_tfidf.csv
      hash: md5
      md5: 8c453c285a07156b0032d44524695161
      size: 36263535
    - path: modelling/modelling.py
      hash: md5
      md5: 3ae5a2abe160f04e9a8b84cf615571c0
      size: 2696
    params:
      params.yaml:
        modelling.max_depth: 30
        modelling.n_estimators: 110
    outs:
    - path: models/random_forest_model.pkl
      hash: md5
      md5: a5253547a4988fa1c92f09245d8ca41b
      size: 5917944
  model_evaluation:
    cmd: python3 modelling/model_evaluation.py
    deps:
    - path: data/interim/test_tfidf.csv
      hash: md5
      md5: 9e9a5d59f952a71de329704c23c79a39
      size: 24071081
    - path: modelling/model_evaluation.py
      hash: md5
      md5: 43271e82bb69fd47845e7bfb9ca64855
      size: 2673
    - path: models/random_forest_model.pkl
      hash: md5
      md5: a5253547a4988fa1c92f09245d8ca41b
      size: 5917944
    outs:
    - path: reports/metrics.json
      hash: md5
      md5: cbcc136dd377ae5b92ad951d812ec875
      size: 144
